{"ast":null,"code":"var no = require('not-defined');\n\nvar staticProps = require('static-props');\n\nvar pkg = require('./package.json');\n/**\n * Prepend package name to error message\n */\n\n\nfunction msg(str) {\n  return pkg.name + ': ' + str;\n}\n\nvar error = {};\nstaticProps(error)({\n  leftMatrixNotCompatible: msg('Cannot multiply matrix at left side'),\n  rightMatrixNotCompatible: msg('Cannot multiply matrix at right side')\n});\n\nvar matrixToArrayIndex = (i, j, numCols) => j + i * numCols;\n/**\n * Multiply two matrices, row by column.\n *\n * @param {Number} customOperator\n * @param {Function} [customOperator.addition]\n * @param {Function} [customOperator.multiplication]\n *\n * @returns {Function} operator\n */\n\n\nfunction matrixMultiplication(customOperator) {\n  // operators\n  if (no(customOperator)) customOperator = {};\n  var add = customOperator.addition;\n  var mul = customOperator.multiplication; // Default to operators over Reals.\n\n  if (no(add)) add = (a, b) => a + b;\n  if (no(mul)) mul = (a, b) => a * b;\n  /**\n   * @param {Number} middle\n   *\n   * @returns {Function} mul\n   */\n\n  return function (middle) {\n    /**\n     * @param {Array} leftMatrix\n     * @param {Array} rightMatrix\n     *\n     * @returns {Array} matrix\n     */\n    return function (leftMatrix, rightMatrix) {\n      // Compatibilty check.\n      var cols = rightMatrix.length / middle; // right num cols\n\n      var rows = leftMatrix.length / middle; // left num rows\n\n      var colsIsNotInteger = Math.floor(cols) !== cols;\n      var rowsIsNotInteger = Math.floor(rows) !== rows;\n      if (colsIsNotInteger) throw new TypeError(error.rightMatrixNotCompatible);\n      if (rowsIsNotInteger) throw new TypeError(error.leftMatrixNotCompatible); // Compute result data.\n\n      var data = [];\n\n      for (var i = 0; i < rows; i++) {\n        for (var j = 0; j < cols; j++) {\n          var leftIndex = matrixToArrayIndex(i, 0, middle);\n          var rightIndex = matrixToArrayIndex(0, j, cols);\n          var rightElement = rightMatrix[rightIndex];\n          var leftElement = leftMatrix[leftIndex];\n          var element = mul(leftElement, rightElement);\n\n          for (var k = 1; k < middle; k++) {\n            leftIndex = matrixToArrayIndex(i, k, middle);\n            rightIndex = matrixToArrayIndex(k, j, cols);\n            rightElement = rightMatrix[rightIndex];\n            leftElement = leftMatrix[leftIndex];\n            element = add(element, mul(rightElement, leftElement));\n          }\n\n          data.push(element);\n        }\n      }\n\n      return data;\n    };\n  };\n}\n\nstaticProps(matrixMultiplication)({\n  error\n});\nmodule.exports = matrixMultiplication;","map":{"version":3,"names":["no","require","staticProps","pkg","msg","str","name","error","leftMatrixNotCompatible","rightMatrixNotCompatible","matrixToArrayIndex","i","j","numCols","matrixMultiplication","customOperator","add","addition","mul","multiplication","a","b","middle","leftMatrix","rightMatrix","cols","length","rows","colsIsNotInteger","Math","floor","rowsIsNotInteger","TypeError","data","leftIndex","rightIndex","rightElement","leftElement","element","k","push","module","exports"],"sources":["/Users/macbookpro/Desktop/IOModel_D/client/node_modules/matrix-multiplication/matrix-multiplication.js"],"sourcesContent":["var no = require('not-defined')\nvar staticProps = require('static-props')\n\nvar pkg = require('./package.json')\n\n/**\n * Prepend package name to error message\n */\n\nfunction msg (str) {\n  return pkg.name + ': ' + str\n}\n\nvar error = {}\n\nstaticProps(error)({\n  leftMatrixNotCompatible: msg('Cannot multiply matrix at left side'),\n  rightMatrixNotCompatible: msg('Cannot multiply matrix at right side')\n})\n\nvar matrixToArrayIndex = (i, j, numCols) => (j + i * numCols)\n\n/**\n * Multiply two matrices, row by column.\n *\n * @param {Number} customOperator\n * @param {Function} [customOperator.addition]\n * @param {Function} [customOperator.multiplication]\n *\n * @returns {Function} operator\n */\n\nfunction matrixMultiplication (customOperator) {\n  // operators\n\n  if (no(customOperator)) customOperator = {}\n\n  var add = customOperator.addition\n  var mul = customOperator.multiplication\n\n  // Default to operators over Reals.\n  if (no(add)) add = (a, b) => (a + b)\n  if (no(mul)) mul = (a, b) => (a * b)\n\n  /**\n   * @param {Number} middle\n   *\n   * @returns {Function} mul\n   */\n\n  return function (middle) {\n    /**\n     * @param {Array} leftMatrix\n     * @param {Array} rightMatrix\n     *\n     * @returns {Array} matrix\n     */\n\n    return function (leftMatrix, rightMatrix) {\n      // Compatibilty check.\n\n      var cols = rightMatrix.length / middle // right num cols\n      var rows = leftMatrix.length / middle // left num rows\n\n      var colsIsNotInteger = Math.floor(cols) !== cols\n      var rowsIsNotInteger = Math.floor(rows) !== rows\n\n      if (colsIsNotInteger) throw new TypeError(error.rightMatrixNotCompatible)\n      if (rowsIsNotInteger) throw new TypeError(error.leftMatrixNotCompatible)\n\n      // Compute result data.\n\n      var data = []\n\n      for (var i = 0; i < rows; i++) {\n        for (var j = 0; j < cols; j++) {\n          var leftIndex = matrixToArrayIndex(i, 0, middle)\n          var rightIndex = matrixToArrayIndex(0, j, cols)\n\n          var rightElement = rightMatrix[rightIndex]\n          var leftElement = leftMatrix[leftIndex]\n\n          var element = mul(leftElement, rightElement)\n\n          for (var k = 1; k < middle; k++) {\n            leftIndex = matrixToArrayIndex(i, k, middle)\n            rightIndex = matrixToArrayIndex(k, j, cols)\n\n            rightElement = rightMatrix[rightIndex]\n            leftElement = leftMatrix[leftIndex]\n\n            element = add(element, mul(rightElement, leftElement))\n          }\n\n          data.push(element)\n        }\n      }\n\n      return data\n    }\n  }\n}\n\nstaticProps(matrixMultiplication)({ error })\n\nmodule.exports = matrixMultiplication\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}