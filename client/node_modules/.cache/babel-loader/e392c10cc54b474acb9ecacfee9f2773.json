{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { LineSeries } from \"./LineSeries\";\nimport { p100 } from \"../../../core/util/Percent\";\nimport { curveStepAfter } from \"d3-shape\";\n\nvar StepLineSeries =\n/** @class */\nfunction (_super) {\n  __extends(StepLineSeries, _super);\n\n  function StepLineSeries() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(StepLineSeries.prototype, \"_afterNew\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      this._setDefault(\"curveFactory\", curveStepAfter);\n\n      _super.prototype._afterNew.call(this);\n    }\n  });\n  Object.defineProperty(StepLineSeries.prototype, \"_getPoints\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (dataItem, o) {\n      var points = o.points;\n      var width = this.get(\"stepWidth\", p100).value / 2;\n      var itemLocationX0 = dataItem.get(\"locationX\", o.locationX);\n      var itemLocationY0 = dataItem.get(\"locationY\", o.locationY);\n      var itemLocationX1 = itemLocationX0;\n      var itemLocationY1 = itemLocationY0;\n\n      if (o.baseAxis === o.xAxis) {\n        itemLocationX0 -= width;\n        itemLocationX1 += width;\n      } else if (o.baseAxis === o.yAxis) {\n        itemLocationY0 -= width;\n        itemLocationY1 += width;\n      }\n\n      var xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX0, o.vcx);\n      var yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY0, o.vcy);\n      var xPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX1, o.vcx);\n      var yPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY1, o.vcy);\n\n      if (this._shouldInclude(xPos0)) {\n        var iPoint0 = this.getPoint(xPos0, yPos0);\n        var point0 = [iPoint0.x, iPoint0.y];\n        var iPoint1 = this.getPoint(xPos1, yPos1);\n        var point1 = [iPoint1.x, iPoint1.y];\n\n        if (o.fillVisible) {\n          var xOpenPos0 = xPos0;\n          var yOpenPos0 = yPos0;\n          var xOpenPos1 = xPos1;\n          var yOpenPos1 = yPos1;\n\n          if (o.baseAxis === o.xAxis) {\n            yOpenPos0 = o.basePosY;\n            yOpenPos1 = o.basePosY;\n          } else if (o.baseAxis === o.yAxis) {\n            xOpenPos0 = o.basePosX;\n            xOpenPos1 = o.basePosX;\n          }\n\n          if (o.getOpen) {\n            var valueX = dataItem.get(o.xOpenField);\n            var valueY = dataItem.get(o.yOpenField);\n\n            if (valueX != null && valueY != null) {\n              itemLocationX0 = dataItem.get(\"openLocationX\", o.openLocationX);\n              itemLocationY0 = dataItem.get(\"openLocationY\", o.openLocationY);\n              itemLocationX1 = itemLocationX0;\n              itemLocationY1 = itemLocationY0;\n\n              if (o.baseAxis === o.xAxis) {\n                itemLocationX0 -= width;\n                itemLocationX1 += width;\n              } else if (o.baseAxis === o.yAxis) {\n                itemLocationY0 -= width;\n                itemLocationY1 += width;\n              }\n\n              if (o.stacked) {\n                var stackToItemX = dataItem.get(\"stackToItemX\");\n                var stackToItemY = dataItem.get(\"stackToItemY\");\n\n                if (stackToItemX) {\n                  xOpenPos0 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX0, stackToItemX.component.get(\"vcx\"));\n                  xOpenPos1 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX1, stackToItemX.component.get(\"vcx\"));\n                } else {\n                  if (o.yAxis === o.baseAxis) {\n                    xOpenPos0 = o.basePosX;\n                    xOpenPos1 = o.basePosX;\n                  } else if (o.baseAxis === o.yAxis) {\n                    xOpenPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX0, o.vcx);\n                    xOpenPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX1, o.vcx);\n                  }\n                }\n\n                if (stackToItemY) {\n                  yOpenPos0 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY0, stackToItemY.component.get(\"vcy\"));\n                  yOpenPos1 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY1, stackToItemY.component.get(\"vcy\"));\n                } else {\n                  if (o.xAxis === o.baseAxis) {\n                    yOpenPos0 = o.basePosY;\n                    yOpenPos1 = o.basePosY;\n                  } else if (o.baseAxis === o.yAxis) {\n                    yOpenPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY0, o.vcy);\n                    yOpenPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY1, o.vcy);\n                  }\n                }\n              } else {\n                xOpenPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX0, o.vcx);\n                yOpenPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY0, o.vcy);\n                xOpenPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX1, o.vcx);\n                yOpenPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY1, o.vcy);\n              }\n            }\n          }\n\n          var closeIPoint0 = this.getPoint(xOpenPos0, yOpenPos0);\n          var closeIPoint1 = this.getPoint(xOpenPos1, yOpenPos1);\n          point0[2] = closeIPoint0.x;\n          point0[3] = closeIPoint0.y;\n          point1[2] = closeIPoint1.x;\n          point1[3] = closeIPoint1.y;\n        }\n\n        points.push(point0);\n        points.push(point1);\n        dataItem.set(\"point\", {\n          x: point0[0] + (point1[0] - point0[0]) / 2,\n          y: point0[1] + (point1[1] - point0[1]) / 2\n        });\n      }\n\n      if (this.get(\"noRisers\")) {\n        o.points = [];\n        o.segments.push(points);\n      }\n    }\n  });\n  Object.defineProperty(StepLineSeries, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"StepLineSeries\"\n  });\n  Object.defineProperty(StepLineSeries, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: LineSeries.classNames.concat([StepLineSeries.className])\n  });\n  return StepLineSeries;\n}(LineSeries);\n\nexport { StepLineSeries };","map":{"version":3,"mappings":"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","names":["LineSeries","p100","curveStepAfter","__extends","_setDefault","_super","_afterNew","call","dataItem","o","points","width","get","value","itemLocationX0","locationX","itemLocationY0","locationY","itemLocationX1","itemLocationY1","baseAxis","xAxis","yAxis","xPos0","getDataItemPositionX","xField","vcx","yPos0","getDataItemPositionY","yField","vcy","xPos1","yPos1","_shouldInclude","iPoint0","getPoint","point0","x","y","iPoint1","point1","fillVisible","xOpenPos0","yOpenPos0","xOpenPos1","yOpenPos1","basePosY","basePosX","getOpen","valueX","xOpenField","valueY","yOpenField","openLocationX","openLocationY","stacked","stackToItemX","stackToItemY","component","closeIPoint0","closeIPoint1","push","set","segments","Object","classNames","concat","StepLineSeries","className"],"sourceRoot":"","sources":["../../../../../../src/.internal/charts/xy/series/StepLineSeries.ts"],"sourcesContent":["import { LineSeries, ILineSeriesSettings, ILineSeriesPrivate, ILineSeriesDataItem } from \"./LineSeries\";\nimport type { AxisRenderer } from \"../axes/AxisRenderer\";\nimport type { Axis } from \"../axes/Axis\";\nimport { Percent, p100 } from \"../../../core/util/Percent\";\nimport type { DataItem } from \"../../../core/render/Component\";\nimport { curveStepAfter } from \"d3-shape\";\n\nexport interface IStepLineSeriesDataItem extends ILineSeriesDataItem {\n}\n\nexport interface IStepLineSeriesSettings extends ILineSeriesSettings {\n\n\t/**\n\t * Width of the step in percent relative to the cell width.\n\t *\n\t * NOTE: setting this to less than 100% makes sense only when risers are\n\t * disabled: `noRisers: true`\n\t *\n\t * @default 100%\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/step-line-series/#Step_width} for more info\n\t */\n\tstepWidth?: Percent;\n\n\t/**\n\t * Disables vertical connecting lines for the steps.\n\t *\n\t * @default false\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/step-line-series/#Disabling_risers} for more info\n\t */\n\tnoRisers?: boolean;\n\n}\n\nexport interface IStepLineSeriesPrivate extends ILineSeriesPrivate {\n}\n\nexport class StepLineSeries extends LineSeries {\n\tpublic static className: string = \"StepLineSeries\";\n\tpublic static classNames: Array<string> = LineSeries.classNames.concat([StepLineSeries.className]);\n\n\tdeclare public _settings: IStepLineSeriesSettings;\n\tdeclare public _privateSettings: IStepLineSeriesPrivate;\n\tdeclare public _dataItemSettings: IStepLineSeriesDataItem;\n\n\tprotected _afterNew() {\n\t\tthis._setDefault(\"curveFactory\", curveStepAfter);\n\t\tsuper._afterNew();\n\t}\n\n\n\tprotected _getPoints(dataItem: DataItem<this[\"_dataItemSettings\"]>, o: { points: Array<Array<number>>, segments: number[][][], stacked: boolean | undefined, getOpen: boolean, basePosX: number, basePosY: number, fillVisible: boolean | undefined, xField: string, yField: string, xOpenField: string, yOpenField: string, vcx: number, vcy: number, baseAxis: Axis<AxisRenderer>, xAxis: Axis<AxisRenderer>, yAxis: Axis<AxisRenderer>, locationX: number, locationY: number, openLocationX: number, openLocationY: number }) {\n\t\tlet points = o.points;\n\n\t\tlet width = this.get(\"stepWidth\", p100).value / 2;\n\n\t\tlet itemLocationX0 = dataItem.get(\"locationX\", o.locationX);\n\t\tlet itemLocationY0 = dataItem.get(\"locationY\", o.locationY);\n\t\tlet itemLocationX1 = itemLocationX0;\n\t\tlet itemLocationY1 = itemLocationY0;\n\n\t\tif (o.baseAxis === o.xAxis) {\n\t\t\titemLocationX0 -= width;\n\t\t\titemLocationX1 += width;\n\t\t}\n\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\titemLocationY0 -= width;\n\t\t\titemLocationY1 += width;\n\t\t}\n\n\t\tlet xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX0, o.vcx);\n\t\tlet yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY0, o.vcy);\n\n\t\tlet xPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX1, o.vcx);\n\t\tlet yPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY1, o.vcy);\n\n\t\tif (this._shouldInclude(xPos0)) {\n\n\t\t\tconst iPoint0 = this.getPoint(xPos0, yPos0);\n\t\t\tconst point0 = [iPoint0.x, iPoint0.y];\n\n\t\t\tconst iPoint1 = this.getPoint(xPos1, yPos1);\n\t\t\tconst point1 = [iPoint1.x, iPoint1.y];\n\n\t\t\tif (o.fillVisible) {\n\t\t\t\tlet xOpenPos0: number = xPos0;\n\t\t\t\tlet yOpenPos0: number = yPos0;\n\t\t\t\tlet xOpenPos1: number = xPos1;\n\t\t\t\tlet yOpenPos1: number = yPos1;\n\n\t\t\t\tif (o.baseAxis === o.xAxis) {\n\t\t\t\t\tyOpenPos0 = o.basePosY;\n\t\t\t\t\tyOpenPos1 = o.basePosY;\n\t\t\t\t}\n\t\t\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\t\t\txOpenPos0 = o.basePosX;\n\t\t\t\t\txOpenPos1 = o.basePosX;\n\t\t\t\t}\n\n\t\t\t\tif (o.getOpen) {\n\t\t\t\t\tlet valueX = dataItem.get(o.xOpenField as any);\n\t\t\t\t\tlet valueY = dataItem.get(o.yOpenField as any);\n\n\t\t\t\t\tif (valueX != null && valueY != null) {\n\t\t\t\t\t\titemLocationX0 = dataItem.get(\"openLocationX\", o.openLocationX);\n\t\t\t\t\t\titemLocationY0 = dataItem.get(\"openLocationY\", o.openLocationY);\n\n\t\t\t\t\t\titemLocationX1 = itemLocationX0;\n\t\t\t\t\t\titemLocationY1 = itemLocationY0;\n\n\t\t\t\t\t\tif (o.baseAxis === o.xAxis) {\n\t\t\t\t\t\t\titemLocationX0 -= width;\n\t\t\t\t\t\t\titemLocationX1 += width;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\t\t\t\t\titemLocationY0 -= width;\n\t\t\t\t\t\t\titemLocationY1 += width;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (o.stacked) {\n\t\t\t\t\t\t\tlet stackToItemX = dataItem.get(\"stackToItemX\")!;\n\t\t\t\t\t\t\tlet stackToItemY = dataItem.get(\"stackToItemY\")!;\n\n\t\t\t\t\t\t\tif (stackToItemX) {\n\t\t\t\t\t\t\t\txOpenPos0 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX0, (stackToItemX.component as StepLineSeries).get(\"vcx\"));\n\t\t\t\t\t\t\t\txOpenPos1 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX1, (stackToItemX.component as StepLineSeries).get(\"vcx\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif (o.yAxis === o.baseAxis) {\n\t\t\t\t\t\t\t\t\txOpenPos0 = o.basePosX;\n\t\t\t\t\t\t\t\t\txOpenPos1 = o.basePosX;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\t\t\t\t\t\t\txOpenPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX0, o.vcx);\n\t\t\t\t\t\t\t\t\txOpenPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX1, o.vcx);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (stackToItemY) {\n\t\t\t\t\t\t\t\tyOpenPos0 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY0, (stackToItemY.component as StepLineSeries).get(\"vcy\"));\n\t\t\t\t\t\t\t\tyOpenPos1 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY1, (stackToItemY.component as StepLineSeries).get(\"vcy\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif (o.xAxis === o.baseAxis) {\n\t\t\t\t\t\t\t\t\tyOpenPos0 = o.basePosY;\n\t\t\t\t\t\t\t\t\tyOpenPos1 = o.basePosY;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\t\t\t\t\t\t\tyOpenPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY0, o.vcy);\n\t\t\t\t\t\t\t\t\tyOpenPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY1, o.vcy);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\txOpenPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX0, o.vcx);\n\t\t\t\t\t\t\tyOpenPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY0, o.vcy);\n\t\t\t\t\t\t\txOpenPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX1, o.vcx);\n\t\t\t\t\t\t\tyOpenPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY1, o.vcy);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet closeIPoint0 = this.getPoint(xOpenPos0, yOpenPos0);\n\t\t\t\tlet closeIPoint1 = this.getPoint(xOpenPos1, yOpenPos1);\n\n\t\t\t\tpoint0[2] = closeIPoint0.x;\n\t\t\t\tpoint0[3] = closeIPoint0.y;\n\n\t\t\t\tpoint1[2] = closeIPoint1.x;\n\t\t\t\tpoint1[3] = closeIPoint1.y;\n\t\t\t}\n\n\t\t\tpoints.push(point0);\n\t\t\tpoints.push(point1);\n\n\t\t\tdataItem.set(\"point\", {x:point0[0] + (point1[0] - point0[0]) / 2, y:point0[1] + (point1[1] - point0[1]) / 2 });\n\t\t}\n\n\t\tif (this.get(\"noRisers\")) {\n\t\t\to.points = [];\n\t\t\to.segments.push(points);\n\t\t}\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}