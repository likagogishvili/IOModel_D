{"ast":null,"code":"import { __extends, __read } from \"tslib\";\nimport { Scrollbar } from \"../../core/render/Scrollbar\";\nimport { XYChart } from \"./XYChart\";\nimport { Graphics } from \"../../core/render/Graphics\";\nimport * as $utils from \"../../core/util/Utils\";\n/**\r\n * Creates a scrollbar with chart preview in it.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/#Scrollbar_with_chart_preview} for more info\r\n * @important\r\n */\n\nvar XYChartScrollbar =\n/** @class */\nfunction (_super) {\n  __extends(XYChartScrollbar, _super);\n\n  function XYChartScrollbar() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\r\n     * An instance of an [[XYChart]] that is used to plot chart preview in\r\n     * scrollbar.\r\n     */\n\n\n    Object.defineProperty(_this, \"chart\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this.children.push(XYChart.new(_this._root, {\n        themeTags: [\"chart\"],\n        interactive: false,\n        interactiveChildren: false,\n        panX: false,\n        panY: false,\n        wheelX: \"none\",\n        wheelY: \"none\"\n      }))\n    });\n    /**\r\n     * A graphics element that is displayed over inactive portion of the\r\n     * scrollbarpreview, to dim it down.\r\n     */\n\n    Object.defineProperty(_this, \"overlay\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this.children.push(Graphics.new(_this._root, {\n        themeTags: [\"overlay\"],\n        interactive: false\n      }))\n    });\n    return _this;\n  }\n\n  Object.defineProperty(XYChartScrollbar.prototype, \"_afterNew\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      this._addOrientationClass();\n\n      this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", \"xy\", \"chart\", this._settings.orientation]);\n      var children = this.children;\n      children.moveValue(this.thumb);\n      children.moveValue(this.startGrip);\n      children.moveValue(this.endGrip);\n      this.thumb.set(\"opacity\", 0);\n      this.thumb.states.create(\"hover\", {\n        opacity: 0.2\n      });\n      var plotContainer = this.chart.plotContainer;\n      plotContainer.set(\"interactive\", false);\n      plotContainer.remove(\"background\");\n      plotContainer.children.removeValue(this.chart.zoomOutButton);\n\n      _super.prototype._afterNew.call(this);\n    }\n  });\n  Object.defineProperty(XYChartScrollbar.prototype, \"_updateThumb\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var _this = this;\n\n      _super.prototype._updateThumb.call(this);\n\n      this.overlay.set(\"draw\", function (display) {\n        var _a, _b;\n\n        var startGrip = _this.startGrip;\n        var endGrip = _this.endGrip;\n        var x0 = startGrip.x();\n        var y0 = startGrip.y();\n        var x1 = endGrip.x();\n        var y1 = endGrip.y();\n\n        var h = _this.height();\n\n        var w = _this.width();\n\n        if (x0 > x1) {\n          _a = __read([x1, x0], 2), x0 = _a[0], x1 = _a[1];\n        }\n\n        if (y0 > y1) {\n          _b = __read([y1, y0], 2), y0 = _b[0], y1 = _b[1];\n        }\n\n        if (_this.get(\"orientation\") === \"horizontal\") {\n          display.moveTo(0, 0);\n          display.lineTo(x0, 0);\n          display.lineTo(x0, h);\n          display.lineTo(0, h);\n          display.lineTo(0, 0);\n          display.moveTo(x1, 0);\n          display.lineTo(w, 0);\n          display.lineTo(w, h);\n          display.lineTo(x1, h);\n          display.lineTo(x1, 0);\n        } else {\n          display.moveTo(0, 0);\n          display.lineTo(0, y0);\n          display.lineTo(w, y0);\n          display.lineTo(w, 0);\n          display.lineTo(0, 0);\n          display.moveTo(0, y1);\n          display.lineTo(0, h);\n          display.lineTo(w, h);\n          display.lineTo(w, y1);\n          display.lineTo(0, y1);\n        }\n      });\n    }\n  });\n  Object.defineProperty(XYChartScrollbar, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"XYChartScrollbar\"\n  });\n  Object.defineProperty(XYChartScrollbar, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: Scrollbar.classNames.concat([XYChartScrollbar.className])\n  });\n  return XYChartScrollbar;\n}(Scrollbar);\n\nexport { XYChartScrollbar };","map":{"version":3,"mappings":"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","names":["Scrollbar","XYChart","Graphics","$utils","__extends","Object","_this","children","push","new","_root","themeTags","interactive","interactiveChildren","panX","panY","wheelX","wheelY","_addOrientationClass","_settings","mergeTags","orientation","moveValue","thumb","startGrip","endGrip","set","states","create","opacity","plotContainer","chart","remove","removeValue","zoomOutButton","_super","_afterNew","call","_updateThumb","overlay","display","x0","x","y0","y","x1","y1","h","height","w","width","_a","_b","get","moveTo","lineTo","classNames","concat","XYChartScrollbar","className"],"sourceRoot":"","sources":["../../../../../src/.internal/charts/xy/XYChartScrollbar.ts"],"sourcesContent":["import { Scrollbar, IScrollbarPrivate, IScrollbarSettings } from \"../../core/render/Scrollbar\";\nimport { XYChart } from \"./XYChart\";\nimport { Graphics } from \"../../core/render/Graphics\";\nimport * as $utils from \"../../core/util/Utils\";\n\nexport interface IXYChartScrollbarSettings extends IScrollbarSettings {\n\n}\n\nexport interface IXYChartScrollbarPrivate extends IScrollbarPrivate {\n}\n\n/**\n * Creates a scrollbar with chart preview in it.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/#Scrollbar_with_chart_preview} for more info\n * @important\n */\nexport class XYChartScrollbar extends Scrollbar {\n\n\tdeclare public _settings: IXYChartScrollbarSettings;\n\tdeclare public _privateSettings: IXYChartScrollbarPrivate;\n\n\tpublic static className: string = \"XYChartScrollbar\";\n\tpublic static classNames: Array<string> = Scrollbar.classNames.concat([XYChartScrollbar.className]);\n\n\t/**\n\t * An instance of an [[XYChart]] that is used to plot chart preview in\n\t * scrollbar.\n\t */\n\tpublic readonly chart: XYChart = this.children.push(XYChart.new(this._root, {\n\t\tthemeTags: [\"chart\"],\n\t\tinteractive: false,\n\t\tinteractiveChildren: false,\n\t\tpanX: false,\n\t\tpanY: false,\n\t\twheelX: \"none\",\n\t\twheelY: \"none\"\n\t}));\n\n\t/**\n\t * A graphics element that is displayed over inactive portion of the\n\t * scrollbarpreview, to dim it down.\n\t */\n\tpublic readonly overlay: Graphics = this.children.push(Graphics.new(this._root, {\n\t\tthemeTags: [\"overlay\"],\n\t\tinteractive: false\n\t}));\n\n\tprotected _afterNew() {\n\t\tthis._addOrientationClass();\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", \"xy\", \"chart\", this._settings.orientation]);\n\n\t\tconst children = this.children;\n\t\tchildren.moveValue(this.thumb);\n\t\tchildren.moveValue(this.startGrip);\n\t\tchildren.moveValue(this.endGrip);\n\n\t\tthis.thumb.set(\"opacity\", 0);\n\t\tthis.thumb.states.create(\"hover\", { opacity: 0.2 });\n\n\t\tconst plotContainer = this.chart.plotContainer;\n\t\tplotContainer.set(\"interactive\", false);\n\t\tplotContainer.remove(\"background\");\n\t\tplotContainer.children.removeValue(this.chart.zoomOutButton);\n\n\t\tsuper._afterNew();\n\t}\n\n\tprotected _updateThumb() {\n\t\tsuper._updateThumb();\n\n\t\tthis.overlay.set(\"draw\", (display) => {\n\t\t\tconst startGrip = this.startGrip;\n\t\t\tconst endGrip = this.endGrip;\n\n\t\t\tlet x0 = startGrip.x();\n\t\t\tlet y0 = startGrip.y();\n\n\t\t\tlet x1 = endGrip.x();\n\t\t\tlet y1 = endGrip.y();\n\n\t\t\tconst h = this.height();\n\t\t\tconst w = this.width();\n\n\t\t\tif (x0 > x1) {\n\t\t\t\t[x0, x1] = [x1, x0]\n\t\t\t}\n\n\t\t\tif (y0 > y1) {\n\t\t\t\t[y0, y1] = [y1, y0]\n\t\t\t}\n\n\t\t\tif (this.get(\"orientation\") === \"horizontal\") {\n\t\t\t\tdisplay.moveTo(0, 0);\n\t\t\t\tdisplay.lineTo(x0, 0);\n\t\t\t\tdisplay.lineTo(x0, h);\n\t\t\t\tdisplay.lineTo(0, h);\n\t\t\t\tdisplay.lineTo(0, 0);\n\n\t\t\t\tdisplay.moveTo(x1, 0);\n\t\t\t\tdisplay.lineTo(w, 0);\n\t\t\t\tdisplay.lineTo(w, h);\n\t\t\t\tdisplay.lineTo(x1, h);\n\t\t\t\tdisplay.lineTo(x1, 0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdisplay.moveTo(0, 0);\n\t\t\t\tdisplay.lineTo(0, y0);\n\t\t\t\tdisplay.lineTo(w, y0);\n\t\t\t\tdisplay.lineTo(w, 0);\n\t\t\t\tdisplay.lineTo(0, 0);\n\n\t\t\t\tdisplay.moveTo(0, y1);\n\t\t\t\tdisplay.lineTo(0, h);\n\t\t\t\tdisplay.lineTo(w, h);\n\t\t\t\tdisplay.lineTo(w, y1);\n\t\t\t\tdisplay.lineTo(0, y1);\n\t\t\t}\n\t\t})\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}