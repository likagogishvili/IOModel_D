{"ast":null,"code":"import { StyleRule } from \"../utils/DOM\";\nimport { Dictionary } from \"../utils/Dictionary\";\nimport { MultiDisposer, CounterDisposer } from \"../utils/Disposer\";\nimport { InterfaceColorSet } from \"../utils/InterfaceColorSet\";\nvar rules = new Dictionary();\n/**\r\n * Default CSS for Popup.\r\n *\r\n * @ignore Exclude from docs\r\n * @param prefix  Prefix for CSS classes\r\n * @return Disposer for the CSS definition\r\n */\n\nexport default function (element, prefix) {\n  if (!prefix) {\n    prefix = \"ampopup\";\n  }\n\n  var cs = new InterfaceColorSet();\n  var fg = cs.getFor(\"text\");\n  var bg = cs.getFor(\"background\");\n  bg.alpha = 0.8;\n  var abg = cs.getFor(\"alternativeBackground\");\n  abg.alpha = 0.05;\n  var counter = rules.insertKeyIfEmpty(prefix, function () {\n    var disposer = new MultiDisposer([new StyleRule(element, \".\" + prefix, {\n      //\"width\": \"100%\",\n      //\"height\": \"100%\",\n      \"overflow\": \"visible\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"z-index\": \"2000\"\n    }), new StyleRule(element, \".\" + prefix + \"-curtain\", {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"z-index\": \"2001\",\n      \"background-color\": bg.hex,\n      \"opacity\": \"0.5\"\n    }), new StyleRule(element, \".\" + prefix + \"-header\", {\n      \"display\": \"block\",\n      \"width\": \"100%\",\n      \"min-height\": \"1.8em\",\n      \"background\": abg.rgba\n    }), new StyleRule(element, \".\" + prefix + \"-title\", {\n      \"font-weight\": \"bold\",\n      \"font-size\": \"110%\",\n      \"padding\": \"0.5em 1.2em 0.5em 1em\"\n    }), new StyleRule(element, \".\" + prefix + \"-content\", {\n      /*\"width\": \"100%\",\r\n      \"height\": \"100%\",*/\n      // \"padding\": \"2em 1em 1em 1em\",\n      \"background\": bg.hex,\n      \"background-color\": bg.rgba,\n      \"color\": fg.hex,\n      \"display\": \"inline-block\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"max-width\": \"90%\",\n      \"max-height\": \"90%\",\n      \"overflow\": \"auto\",\n      \"z-index\": \"2002\"\n    }), new StyleRule(element, \".\" + prefix + \"-inside\", {\n      \"padding\": \"1em\"\n    }), new StyleRule(element, \".\" + prefix + \"-close\", {\n      \"display\": \"block\",\n      \"position\": \"absolute\",\n      \"top\": \"0.3em\",\n      \"right\": \"0.3em\",\n      \"background-color\": \"rgb(100, 100, 100)\",\n      \"background\": \"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center\",\n      \"background-size\": \"80%\",\n      \"width\": \"1.2em\",\n      \"height\": \"1.2em\",\n      \"cursor\": \"pointer\"\n    })]);\n    return new CounterDisposer(function () {\n      rules.removeKey(prefix);\n      disposer.dispose();\n    });\n  });\n  return counter.increment();\n}","map":{"version":3,"mappings":"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","names":["StyleRule","Dictionary","MultiDisposer","CounterDisposer","InterfaceColorSet","rules","element","prefix","cs","fg","getFor","bg","alpha","abg","counter","insertKeyIfEmpty","disposer","hex","rgba","removeKey","dispose","increment"],"sourceRoot":"","sources":["../../../../../src/.internal/core/elements/PopupCSS.ts"],"sourcesContent":["import { StyleRule } from \"../utils/DOM\";\r\nimport { Dictionary } from \"../utils/Dictionary\";\r\nimport { MultiDisposer, IDisposer, CounterDisposer } from \"../utils/Disposer\";\r\nimport { InterfaceColorSet } from \"../utils/InterfaceColorSet\";\r\n\r\n\r\nconst rules = new Dictionary<string, CounterDisposer>();\r\n\r\n/**\r\n * Default CSS for Popup.\r\n *\r\n * @ignore Exclude from docs\r\n * @param prefix  Prefix for CSS classes\r\n * @return Disposer for the CSS definition\r\n */\r\nexport default function(element: ShadowRoot | null, prefix?: string): IDisposer {\r\n\tif (!prefix) {\r\n\t\tprefix = \"ampopup\";\r\n\t}\r\n\r\n\tconst cs = new InterfaceColorSet();\r\n\tconst fg = cs.getFor(\"text\");\r\n\tconst bg = cs.getFor(\"background\");\r\n\tbg.alpha = 0.8;\r\n\tconst abg = cs.getFor(\"alternativeBackground\");\r\n\tabg.alpha = 0.05;\r\n\r\n\tconst counter = rules.insertKeyIfEmpty(prefix, () => {\r\n\t\tconst disposer = new MultiDisposer([\r\n\t\t\tnew StyleRule(element, `.${prefix}`, {\r\n\t\t\t\t//\"width\": \"100%\",\r\n\t\t\t\t//\"height\": \"100%\",\r\n\t\t\t\t\"overflow\": \"visible\",\r\n\t\t\t\t\"position\": \"absolute\",\r\n\t\t\t\t\"top\": \"0\",\r\n\t\t\t\t\"left\": \"0\",\r\n\t\t\t\t\"z-index\": \"2000\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${prefix}-curtain`, {\r\n\t\t\t\t\"width\": \"100%\",\r\n\t\t\t\t\"height\": \"100%\",\r\n\t\t\t\t\"position\": \"absolute\",\r\n\t\t\t\t\"top\": \"0\",\r\n\t\t\t\t\"left\": \"0\",\r\n\t\t\t\t\"z-index\": \"2001\",\r\n\t\t\t\t\"background-color\": bg.hex,\r\n\t\t\t\t\"opacity\": \"0.5\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${prefix}-header`, {\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t\t\"width\": \"100%\",\r\n\t\t\t\t\"min-height\": \"1.8em\",\r\n\t\t\t\t\"background\": abg.rgba\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${prefix}-title`, {\r\n\t\t\t\t\"font-weight\": \"bold\",\r\n\t\t\t\t\"font-size\": \"110%\",\r\n\t\t\t\t\"padding\": \"0.5em 1.2em 0.5em 1em\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${prefix}-content`, {\r\n\t\t\t\t/*\"width\": \"100%\",\r\n\t\t\t\t\"height\": \"100%\",*/\r\n\t\t\t\t// \"padding\": \"2em 1em 1em 1em\",\r\n\t\t\t\t\"background\": bg.hex,\r\n\t\t\t\t\"background-color\": bg.rgba,\r\n\t\t\t\t\"color\": fg.hex,\r\n\t\t\t\t\"display\": \"inline-block\",\r\n\t\t\t\t\"position\": \"absolute\",\r\n\t\t\t\t\"top\": \"0\",\r\n\t\t\t\t\"left\": \"0\",\r\n\t\t\t\t\"max-width\": \"90%\",\r\n\t\t\t\t\"max-height\": \"90%\",\r\n\t\t\t\t\"overflow\": \"auto\",\r\n\t\t\t\t\"z-index\": \"2002\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${prefix}-inside`, {\r\n\t\t\t\t\"padding\": \"1em\"\r\n\t\t\t}),\r\n\r\n\t\t\tnew StyleRule(element, `.${prefix}-close`, {\r\n\t\t\t\t\"display\": \"block\",\r\n\t\t\t\t\"position\": \"absolute\",\r\n\t\t\t\t\"top\": \"0.3em\",\r\n\t\t\t\t\"right\": \"0.3em\",\r\n\t\t\t\t\"background-color\": \"rgb(100, 100, 100)\",\r\n\t\t\t\t\"background\": \"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center\",\r\n\t\t\t\t\"background-size\": \"80%\",\r\n\t\t\t\t\"width\": \"1.2em\",\r\n\t\t\t\t\"height\": \"1.2em\",\r\n\t\t\t\t\"cursor\": \"pointer\"\r\n\t\t\t}),\r\n\r\n\t\t]);\r\n\r\n\t\treturn new CounterDisposer(() => {\r\n\t\t\trules.removeKey(prefix);\r\n\t\t\tdisposer.dispose();\r\n\t\t});\r\n\t});\r\n\r\n\treturn counter.increment();\r\n}\r\n"]},"metadata":{},"sourceType":"module"}